@{ 
    var url = "";
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title</title>
    <link href="~/fonts/Stylesheet.css" rel="stylesheet" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" />
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/modernizr")

    @Scripts.Render("~/Scripts/jquery-1.11.3.min.js")
    @Scripts.Render("~/bundles/bootstrap")
    @RenderSection("scripts", required: false)


</head>
<body>
    <div class="wapper">
        @Html.Partial("_Header")
        <main id="main" class="site-main">
            <div class="container page-bosuutap">
                <div class="row breadcrumb">
                    <ul>
                        <li><a href="http://demo.vinabits.com.vn/homeclick/">Home</a></li>
                        <li>All typologies</li>
                    </ul>
                </div>
                <div class="row">
                    <aside id="sidebar">
                        @Html.Action("ListOfRooms", "Category")
                    </aside>
                    <div class="content-page ">
                        @RenderBody()
                    </div>
                </div>
            </div>
        </main>
        @Html.Partial("_Footer");
    </div>

    <script type="text/javascript">
        function getTypologies(id)
        {
            var url = '@Url.Action("GetTypologiesJson")';
            $.ajax({
                type: "GET",
                url: url,
                data: { 'id': id },
                success: function (data) {
                    $('.typologies-item').empty();
                    for (var i = 0; i < data.length; i++) {
                        var item = '<div class="item-image-tp">' +
                                        '<a class="typology-link" href="' + data[i].link + '"><img src="' + '@url' + '/' + data[i].icon + '" /></a>' +
                                        '<h3><a href="' + data[i].link + '">' + data[i].name + '</a></h3>' +
                                    '</div>';
                        $('.typologies-item').append(item);
                    }
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    alert('Failed to retrieve data.');
                }
            });
        }



        $(document).ready(function () {
            var currentModel = $('#sidebar .nav').children().first();
            if (currentModel) {
                currentModel.addClass('active');
                var data = currentModel.data('content');
                getTypologies(data);
            }

            $('.model-link a').bind('click', function () {
                if (currentModel) {
                    currentModel.removeClass('active');
                }
                var liParent = $(this).parent();
                var liId = liParent.data('content');
                getTypologies(liId);

                currentModel = liParent;
                currentModel.addClass('active');

            });
        });
    </script>
</body>
</html>
